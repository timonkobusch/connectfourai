(this["webpackJsonpreact-connectfour"]=this["webpackJsonpreact-connectfour"]||[]).push([[0],{14:function(r,e,n){},15:function(r,e,n){},17:function(r,e,n){},19:function(r,e,n){"use strict";n.r(e);var t=n(1),c=n.n(t),a=n(8),o=n.n(a),i=(n(14),n(15),n(2)),u=n.n(i),s=n(4),l=n(3),f=(n(17),n(9),n(7));function v(r){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(u.a.mark((function r(e){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){if(h(e))return 0;var t,c=b(e),a=Object(f.a)(c);try{for(a.s();!(t=a.n()).done;){var o=t.value;d(e,o,-1)}}catch(i){a.e(i)}finally{a.f()}r(1)})));case 1:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function b(r){for(var e=[],n=0;n<7;n++)for(var t=5;t>=0;t--)if(!r[n][t]){e.push({col:n,row:t});break}return e.sort((function(r,e){return Math.abs(3-r.col)-Math.abs(3-e.col)}))}function d(r,e,n){r[e.col][e.row]&&console.error("Invalid move: "+e.col+" "+e.row),r[e.col][e.row]=n}function h(r){function e(r,e,n,t){return r&&r===e&&e===n&&n===t?r:null}for(var n=0;n<4;n++)for(var t=0;t<r.length;t++){var c=e(r[n][t],r[n+1][t],r[n+2][t],r[n+3][t]);if(c)return c}for(var a=0;a<r[0].length;a++)for(var o=0;o<3;o++){var i=e(r[a][o],r[a][o+1],r[a][o+2],r[a][o+3]);if(i)return i}for(var u=0;u<4;u++)for(var s=0;s<3;s++){var l=e(r[u][s],r[u+1][s+1],r[u+2][s+2],r[u+3][s+3]);if(l)return l}for(var f=3;f<6;f++)for(var v=0;v<3;v++){var j=e(r[f][v],r[f-1][v+1],r[f-2][v+2],r[f-3][v+3]);if(j)return j}return 0}var m=n(0);function O(r){var e;return 1===r.value?e="p1":-1===r.value&&(e="p2"),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"cell",children:Object(m.jsx)("div",{className:e})})})}function p(r){return Object(m.jsx)("div",{className:"board",children:r.grid.map((function(e,n){return Object(m.jsxs)("div",{className:"column-box",children:[Object(m.jsx)("div",{id:"col-".concat(n),className:"col",children:e.map((function(r,e){return Object(m.jsx)(O,{value:r},e)}))},n),Object(m.jsx)("div",{className:"col-border",onClick:function(){return r.onClick(n)},children:e.map((function(r,e){return Object(m.jsx)("div",{className:"cell-border"},e)}))},n+"rand")]})}))})}function x(r){var e=Object(t.useState)(g()),n=Object(l.a)(e,2),c=n[0],a=n[1],o=Object(t.useState)(!0),i=Object(l.a)(o,2),f=i[0],j=i[1],b=Object(t.useState)(0),d=Object(l.a)(b,2),h=d[0],O=d[1],x=Object(t.useState)(!1),k=Object(l.a)(x,2),N=k[0],y=k[1];function C(r,e,n){if(!e[r][0]&&!w(e)){for(var t=[],c=0;c<e.length;c++)t[c]=e[c].slice();for(var o=6,i=0;i<6;i++)if(t[r][i]){o=i;break}return t[r][o-1]=n?1:-1,console.log("move at"+r+o),O(w(t)),a(t),t}console.log("col full")}function M(){return(M=Object(s.a)(u.a.mark((function r(e){var n,t,a,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!N||0!==h||!f){r.next=10;break}for(j(!1),n=Math.ceil(7*Math.random()),console.log(n),t=C(e,c,!0),a=[],o=0;o<t.length;o++)a[o]=t[o].slice();return r.next=9,new Promise((function(r){return setTimeout(r,550)}));case 9:v(a).then((function(r){C(r,t,!1),j(!0)}));case 10:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"background",children:Object(m.jsxs)("div",{className:"connect-four",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("h1",{children:"CONNECT FOUR AI"}),Object(m.jsx)("h2",{children:"made by jannis becketepe and timon kobusch."})]}),Object(m.jsxs)("div",{className:"menu",children:[Object(m.jsx)("button",{className:"game-button",onClick:function(r){r.preventDefault(),N?(a(g()),O(0),y(!1)):(y(!0),Math.random()<.5?j(!0):(j(!1),v(g()).then((function(r){C(r,g(),!1),j(!0)}))))},children:N?"reset":"start game"}),N&&0===h&&!f&&Object(m.jsx)("div",{className:"load"}),Object(m.jsx)("p",{children:N&&0===h?f?"your turn. click a column.":"the computer is thinking.":""}),Object(m.jsx)("p",{children:1===h?"You won":-1===h?"the computer won.":""})]}),Object(m.jsx)(p,{grid:c,onClick:function(r){return function(r){return M.apply(this,arguments)}(r)}})]})})}function g(){for(var r=new Array(7),e=0;e<r.length;e++)r[e]=new Array(6).fill(null);return r}function k(r,e,n,t){return r&&r===e&&e===n&&n===t?r:null}function w(r){for(var e=0;e<6;e++)for(var n=0;n<4;n++){var t=k(r[n][e],r[n+1][e],r[n+2][e],r[n+3][e]);if(t)return t}for(var c=0;c<7;c++)for(var a=0;a<3;a++){var o=k(r[c][a],r[c][a+1],r[c][a+2],r[c][a+3]);if(o)return o}for(var i=0;i<4;i++)for(var u=0;u<3;u++){var s=k(r[i][u],r[i+1][u+1],r[i+2][u+2],r[i+3][u+3]);if(s)return s}for(var l=3;l<7;l++)for(var f=0;f<3;f++){var v=k(r[l][f],r[l-1][f+1],r[l-2][f+2],r[l-3][f+3]);if(v)return v}return 0}var N=function(){return Object(m.jsx)(x,{})},y=function(r){r&&r instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,t=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(r),t(r),c(r),a(r),o(r)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),y()}},[[19,1,2]]]);
//# sourceMappingURL=main.8bed520b.chunk.js.map