(this["webpackJsonpreact-connectfour"]=this["webpackJsonpreact-connectfour"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r,c,o=n(1),a=n.n(o),l=n(8),i=n.n(l),s=(n(13),n(14),n(3)),u=n.n(s),f=n(4),v=n(2),j=(n(16),n(7));function b(e,t){return e>t?e:t}function d(e){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(0!==w(t))return 0;r=0,c=0;var o,a,l=p(t),i=-1/0,s=Math.round(Math.log(1e6)/Math.log(l.length));1===l.length&&e(l[0].col);var u,f=Object(j.a)(l);try{for(f.s();!(u=f.n()).done;){var v=u.value;x(t,v,-1),a=-O(t,s,-1/0,1/0,1),console.log("move: "+v.col+"value: "+a),a>i&&(o=v,i=a),g(t,v,-1)}}catch(h){f.e(h)}finally{f.f()}var b=" | searchdepth: "+s+" | analysed moves: "+r+" | 'skipped' moves: "+c,d=(s-Math.abs(i/1e3))/2;i>=1e3&&(b+=" | win in "+d+(1===d?" move":" moves")),e([o.col,b])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n,o,a){if(0===t||w(e))return function(e,t,n){r+=1;var c=w(e);return-1===c||1===c?1e3*n*t*c:2===c?0:function(e,t){function n(e,n,r,c){return t===e&&e===n&&n===r&&null===c||t===e&&e===n&&null===r&&n===c||t===e&&null===n&&e===r&&r===c||null===e&&e===n&&n===r&&c===t}for(var r=0,c=0;c<4;c++)for(var o=0;o<e.length;o++)n(e[c][o],e[c+1][o],e[c+2][o],e[c+3][o])&&r++;for(var a=0;a<e[0].length;a++)for(var l=0;l<3;l++)n(e[a][l],e[a][l+1],e[a][l+2],e[a][l+3])&&r++;for(var i=0;i<4;i++)for(var s=0;s<3;s++)n(e[i][s],e[i+1][s+1],e[i+2][s+2],e[i+3][s+3])&&r++;for(var u=3;u<6;u++)for(var f=0;f<3;f++)n(e[u][f],e[u-1][f+1],e[u-2][f+2],e[u-3][f+3])&&r++;return r}(e,t)}(e,a,t);var l,i=p(e),s=-1/0,u=Object(j.a)(i);try{for(u.s();!(l=u.n()).done;){var f=l.value;if(x(e,f,a),s=b(s,-O(e,t-1,-o,-n,-a)),n=b(n,s),g(e,f,a),n>=o){c+=(7-i.length)*Math.pow(7,t-1>=0?t-1:0);break}}}catch(v){u.e(v)}finally{u.f()}return s}var m=[3,4,5,7,5,4,3,4,6,8,10,8,6,4,5,8,11,13,11,8,5,5,8,11,13,11,8,5,4,6,8,10,8,6,4,3,4,5,7,5,4,3];function p(e){for(var t=[],n=0;n<7;n++)for(var r=5;r>=0;r--)if(!e[n][r]){t.push({col:n,row:r});break}return t.sort((function(e,t){return m[7*t.row+t.col]-m[7*e.row+e.col]}))}function x(e,t,n){e[t.col][t.row]&&console.error("Invalid move: "+t.col+" "+t.row),e[t.col][t.row]=n}function g(e,t,n){e[t.col][t.row]!==n&&console.error("Invalid revert: "+t.col+" "+t.row),e[t.col][t.row]=null}function w(e){function t(e,t,n,r){return e&&e===t&&t===n&&n===r?e:null}for(var n=0;n<6;n++)for(var r=0;r<4;r++){var c=t(e[r][n],e[r+1][n],e[r+2][n],e[r+3][n]);if(c)return c}for(var o=0;o<7;o++)for(var a=0;a<3;a++){var l=t(e[o][a],e[o][a+1],e[o][a+2],e[o][a+3]);if(l)return l}for(var i=0;i<4;i++)for(var s=0;s<3;s++){var u=t(e[i][s],e[i+1][s+1],e[i+2][s+2],e[i+3][s+3]);if(u)return u}for(var f=3;f<7;f++)for(var v=0;v<3;v++){var j=t(e[f][v],e[f-1][v+1],e[f-2][v+2],e[f-3][v+3]);if(j)return j}for(var b=0;b<7;b++)if(!e[b][0])return 0;return 2}var k=n(0);function N(e){var t;return 1===e.value?t="p1":-1===e.value&&(t="p2"),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"cell",children:Object(k.jsx)("div",{className:t})})})}function y(e){return Object(k.jsx)("div",{className:"board",children:e.grid.map((function(t,n){return Object(k.jsxs)("div",{className:"column-box",children:[Object(k.jsx)("div",{id:"col-".concat(n),className:"col",children:t.map((function(e,t){return Object(k.jsx)(N,{value:e},t)}))},n),Object(k.jsx)("div",{className:"col-border",onClick:function(){return e.onClick(n)},children:t.map((function(e,t){return Object(k.jsx)("div",{className:"cell-border"},t)}))},n+"rand")]},"col"+n)}))})}function C(e){var t="",n=e.state;return 1===n&&(t="you have won! this must be a bug..."),-1===n&&(t="the computer has won."),2===n&&(t="the game is a draw."),0===n&&(t=e.pnext?"your turn. click a column.":"the computer is thinking."),Object(k.jsx)("p",{children:t})}function S(e){var t=e.active,n=e.state,r=e.pNext,c=e.click,o=null;return t&&0===n&&!r&&(o=Object(k.jsx)("div",{className:"load"})),Object(k.jsxs)("div",{className:"menu",children:[Object(k.jsx)("button",{className:"game-button",onClick:c,children:t?"reset":"start game"}),o,Object(k.jsx)(C,{state:n,pnext:r})]})}function M(e){return e.show?Object(k.jsx)("div",{className:"log",children:Object(k.jsx)("p",{children:e.log})}):null}function F(e){var t=Object(o.useState)(I()),n=Object(v.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(!0),l=Object(v.a)(a,2),i=l[0],s=l[1],j=Object(o.useState)(0),b=Object(v.a)(j,2),h=b[0],O=b[1],m=Object(o.useState)(!1),p=Object(v.a)(m,2),x=p[0],g=p[1],N=Object(o.useState)(!1),C=Object(v.a)(N,2),F=C[0],P=C[1],T=Object(o.useState)(">"),A=Object(v.a)(T,2),B=A[0],E=A[1],J=Object(o.useState)(1),L=Object(v.a)(J,2),z=L[0],D=L[1];function R(e,t,n){if(t[e][0]||w(t))return console.log("col full"),null;for(var r=[],o=0;o<t.length;o++)r[o]=t[o].slice();for(var a=6,l=0;l<6;l++)if(r[e][l]){a=l;break}return r[e][a-1]=n?1:-1,O(w(r)),c(r),r}function U(){return(U=Object(f.a)(u.a.mark((function e(t){var n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||0!==h||!i){e.next=11;break}if(s(!1),n=R(t,r,!0)){e.next=6;break}return s(!0),e.abrupt("return");case 6:for(c=[],o=0;o<n.length;o++)c[o]=n[o].slice();return e.next=10,new Promise((function(e){return setTimeout(e,550)}));case 10:d(c).then((function(e){R(e[0],c,!1),E("> move: "+z+e[1]),D(z+1),s(!0)}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsxs)("div",{className:"connect-four",children:[Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("h1",{children:"CONNECT FOUR AI"}),Object(k.jsx)("h2",{children:"made by jannis becketepe and timon kobusch."})]}),Object(k.jsx)(S,{active:x,state:h,pNext:i,click:function(){x?(c(I()),O(0),g(!1),D(0),E("")):(g(!0),Math.random()<.5||(s(!1),R(3,I(),!1),E("> move: 1 | no moves to analyze"),D(2)),s(!0))}}),Object(k.jsx)(y,{grid:r,onClick:function(e){return function(e){return U.apply(this,arguments)}(e)}}),Object(k.jsxs)("div",{className:"log-switch",children:[Object(k.jsxs)("label",{className:"switch",children:[Object(k.jsx)("input",{type:"checkbox",onClick:function(){return F?console.log("log deactivated"):console.log("log activated"),void P(!F)}}),Object(k.jsx)("span",{className:"slider round"})]}),Object(k.jsx)("p",{children:"show log"})]}),Object(k.jsx)(M,{show:F,log:B})]})}function I(){for(var e=new Array(7),t=0;t<e.length;t++)e[t]=new Array(6).fill(null);return e}var P=function(){return Object(k.jsx)(F,{})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(P,{})}),document.getElementById("root")),T()}},[[18,1,2]]]);
//# sourceMappingURL=main.7bbfaf61.chunk.js.map