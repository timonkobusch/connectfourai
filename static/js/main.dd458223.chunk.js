(this["webpackJsonpreact-connectfour"]=this["webpackJsonpreact-connectfour"]||[]).push([[0],{13:function(r,e,n){},14:function(r,e,n){},16:function(r,e,n){},18:function(r,e,n){"use strict";n.r(e);var t=n(1),c=n.n(t),o=n(8),a=n.n(o),u=(n(13),n(14),n(2)),i=n.n(u),l=n(4),s=n(3),f=(n(16),n(7));function j(r,e){return r>e?r:e}function v(r){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(i.a.mark((function r(e){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){if(0!==x(e))return 0;var t,c,o=O(e),a=-1/0,u=Math.round(Math.log(1e6)/Math.log(o.length));console.log("maxdepth = "+u+"moves: "+o.length);var i,l=Object(f.a)(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;m(e,s,-1),(c=-d(e,u,-1/0,1/0,1))>a&&(t=s,a=c),p(e,s,-1)}}catch(j){l.e(j)}finally{l.f()}r(t.col)})));case 1:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function d(r,e,n,t,c){if(0===e||x(r))return function(r,e,n){if(x(r)===e)return 1e3*n;if(x(r)===-e)return-1e3*n;return function(r,e){function n(r,n,t,c){return e===r&&r===n&&n===t&&null===c||e===r&&r===n&&null===t&&n===c||e===r&&null===n&&r===t&&t===c||null===r&&r===n&&n===t&&c===e}for(var t=0,c=0;c<4;c++)for(var o=0;o<r.length;o++)n(r[c][o],r[c+1][o],r[c+2][o],r[c+3][o])&&t++;for(var a=0;a<r[0].length;a++)for(var u=0;u<3;u++)n(r[a][u],r[a][u+1],r[a][u+2],r[a][u+3])&&t++;for(var i=0;i<4;i++)for(var l=0;l<3;l++)n(r[i][l],r[i+1][l+1],r[i+2][l+2],r[i+3][l+3])&&t++;for(var s=3;s<6;s++)for(var f=0;f<3;f++)n(r[s][f],r[s-1][f+1],r[s-2][f+2],r[s-3][f+3])&&t++;return t}(r,e)}(r,c,e);var o,a=O(r),u=-1/0,i=Object(f.a)(a);try{for(i.s();!(o=i.n()).done;){var l=o.value;if(m(r,l,c),u=j(u,-d(r,e-1,-t,-n,-c)),n=j(n,u),p(r,l,c),n>=t)break}}catch(s){i.e(s)}finally{i.f()}return u}var h=[3,4,5,7,5,4,3,4,6,8,10,8,6,4,5,8,11,13,11,8,5,5,8,11,13,11,8,5,4,6,8,10,8,6,4,3,4,5,7,5,4,3];function O(r){for(var e=[],n=0;n<7;n++)for(var t=5;t>=0;t--)if(!r[n][t]){e.push({col:n,row:t});break}return e.sort((function(r,e){return h[7*e.row+e.col]-h[7*r.row+r.col]}))}function m(r,e,n){r[e.col][e.row]&&console.error("Invalid move: "+e.col+" "+e.row),r[e.col][e.row]=n}function p(r,e,n){r[e.col][e.row]!==n&&console.error("Invalid revert: "+e.col+" "+e.row),r[e.col][e.row]=null}function x(r){for(var e=!0,n=0;n<7;n++)r[n][0]||(e=!1);function t(r,e,n,t){return r&&r===e&&e===n&&n===t?r:null}for(var c=0;c<6;c++)for(var o=0;o<4;o++){var a=t(r[o][c],r[o+1][c],r[o+2][c],r[o+3][c]);if(a)return a}for(var u=0;u<7;u++)for(var i=0;i<3;i++){var l=t(r[u][i],r[u][i+1],r[u][i+2],r[u][i+3]);if(l)return l}for(var s=0;s<4;s++)for(var f=0;f<3;f++){var j=t(r[s][f],r[s+1][f+1],r[s+2][f+2],r[s+3][f+3]);if(j)return j}for(var v=3;v<7;v++)for(var b=0;b<3;b++){var d=t(r[v][b],r[v-1][b+1],r[v-2][b+2],r[v-3][b+3]);if(d)return d}return e?2:0}var g=n(0);function w(r){var e;return 1===r.value?e="p1":-1===r.value&&(e="p2"),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"cell",children:Object(g.jsx)("div",{className:e})})})}function k(r){return Object(g.jsx)("div",{className:"board",children:r.grid.map((function(e,n){return Object(g.jsxs)("div",{className:"column-box",children:[Object(g.jsx)("div",{id:"col-".concat(n),className:"col",children:e.map((function(r,e){return Object(g.jsx)(w,{value:r},e)}))},n),Object(g.jsx)("div",{className:"col-border",onClick:function(){return r.onClick(n)},children:e.map((function(r,e){return Object(g.jsx)("div",{className:"cell-border"},e)}))},n+"rand")]},"col"+n)}))})}function N(r){var e=Object(t.useState)(y()),n=Object(s.a)(e,2),c=n[0],o=n[1],a=Object(t.useState)(!0),u=Object(s.a)(a,2),f=u[0],j=u[1],b=Object(t.useState)(0),d=Object(s.a)(b,2),h=d[0],O=d[1],m=Object(t.useState)(!1),p=Object(s.a)(m,2),w=p[0],N=p[1];function C(r,e,n){if(e[r][0]||x(e))return console.log("col full"),null;for(var t=[],c=0;c<e.length;c++)t[c]=e[c].slice();for(var a=6,u=0;u<6;u++)if(t[r][u]){a=u;break}return t[r][a-1]=n?1:-1,O(x(t)),o(t),t}function S(){return(S=Object(l.a)(i.a.mark((function r(e){var n;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!w||0!==h||!f){r.next=9;break}if(j(!1),n=C(e,c,!0)){r.next=6;break}return j(!0),r.abrupt("return");case 6:return r.next=8,new Promise((function(r){return setTimeout(r,550)}));case 8:v(n).then((function(r){C(r,n,!1),j(!0)}));case 9:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(g.jsx)("div",{className:"background",children:Object(g.jsxs)("div",{className:"connect-four",children:[Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("h1",{children:"CONNECT FOUR AI"}),Object(g.jsx)("h2",{children:"made by jannis becketepe and timon kobusch."})]}),Object(g.jsxs)("div",{className:"menu",children:[Object(g.jsx)("button",{className:"game-button",onClick:function(r){r.preventDefault(),w?(o(y()),O(0),N(!1)):(N(!0),Math.random()<.5||(j(!1),C(3,y(),!1)),j(!0))},children:w?"reset":"start game"}),w&&0===h&&!f&&Object(g.jsx)("div",{className:"load"}),Object(g.jsx)("p",{children:w&&0===h?f?"your turn. click a column.":"the computer is thinking.":""}),Object(g.jsx)("p",{children:1===h?"you won!":-1===h?"the computer won.":""})]}),Object(g.jsx)(k,{grid:c,onClick:function(r){return function(r){return S.apply(this,arguments)}(r)}}),Object(g.jsx)("div",{className:"log-switch",children:Object(g.jsxs)("label",{className:"switch",children:[Object(g.jsx)("input",{type:"checkbox"}),Object(g.jsx)("span",{className:"slider round"})]})})]})})}function y(){for(var r=new Array(7),e=0;e<r.length;e++)r[e]=new Array(6).fill(null);return r}var C=function(){return Object(g.jsx)(N,{})},S=function(r){r&&r instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,t=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(r),t(r),c(r),o(r),a(r)}))};a.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root")),S()}},[[18,1,2]]]);
//# sourceMappingURL=main.dd458223.chunk.js.map