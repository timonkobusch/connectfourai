(this["webpackJsonpreact-connectfour"]=this["webpackJsonpreact-connectfour"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r,c,a=n(1),o=n.n(a),i=n(7),s=n.n(i),u=(n(16),n(17),n(3)),l=n.n(u),f=n(4),j=n(2),v=(n(19),n(8));function b(e,t){return e>t?e:t}function d(e){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(0!==w(t))return console.log("finished grid."),null;r=0,c=0;var a,o=p(t),i=-1/0,s=Math.round(Math.log(2e6)/Math.log(o.length));if(1===o.length)e([o[0].col," | no moves need to be analysed"]);else{var u,l=o[0],f=Object(v.a)(o);try{for(f.s();!(u=f.n()).done;){var j=u.value;x(t,j,-1),a=-O(t,s,-1/0,1/0,1),console.log("move: "+j.col+"value: "+a),a>i&&(l=j,i=a),g(t,j,-1)}}catch(h){f.e(h)}finally{f.f()}var b=" | searchdepth: "+s+" | analysed moves: "+r+" | 'skipped' moves: "+c,d=(s-Math.abs(i/1e3))/2;i>=1e3?b+=" | win in "+d+(1===d?" move":" moves"):i<=-1e3&&(b+=" | loss in "+d+(1===d?" move":" moves")),e([l.col,b])}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n,a,o){if(0===t||w(e))return function(e,t,n){r+=1;var c=w(e);if(w(e)===t)return 1e3*n;if(w(e)===-t)return-1e3*n;if(2===c)return 0;return function(e,t){function n(e,n,r,c){return t===e&&e===n&&n===r&&null===c||t===e&&e===n&&null===r&&n===c||t===e&&null===n&&e===r&&r===c||null===e&&e===n&&n===r&&c===t}for(var r=0,c=0;c<4;c++)for(var a=0;a<e.length;a++)n(e[c][a],e[c+1][a],e[c+2][a],e[c+3][a])&&r++;for(var o=0;o<e[0].length;o++)for(var i=0;i<3;i++)n(e[o][i],e[o][i+1],e[o][i+2],e[o][i+3])&&r++;for(var s=0;s<4;s++)for(var u=0;u<3;u++)n(e[s][u],e[s+1][u+1],e[s+2][u+2],e[s+3][u+3])&&r++;for(var l=3;l<6;l++)for(var f=0;f<3;f++)n(e[l][f],e[l-1][f+1],e[l-2][f+2],e[l-3][f+3])&&r++;return r}(e,t)}(e,o,t);var i,s=p(e),u=-1/0,l=Object(v.a)(s);try{for(l.s();!(i=l.n()).done;){var f=i.value;if(x(e,f,o),u=b(u,-O(e,t-1,-a,-n,-o)),n=b(n,u),g(e,f,o),n>=a){c+=(7-s.length)*Math.pow(7,t-1>=0?t-1:0);break}}}catch(j){l.e(j)}finally{l.f()}return u}var m=[3,4,5,7,5,4,3,4,6,8,10,8,6,4,5,8,11,13,11,8,5,5,8,11,13,11,8,5,4,6,8,10,8,6,4,3,4,5,7,5,4,3];function p(e){for(var t=[],n=0;n<7;n++)for(var r=5;r>=0;r--)if(!e[n][r]){t.push({col:n,row:r});break}return t.sort((function(e,t){return m[7*t.row+t.col]-m[7*e.row+e.col]}))}function x(e,t,n){e[t.col][t.row]=n}function g(e,t,n){e[t.col][t.row]=null}function w(e){function t(e,t,n,r){return e&&e===t&&t===n&&n===r?e:null}for(var n=0;n<6;n++)for(var r=0;r<4;r++){var c=t(e[r][n],e[r+1][n],e[r+2][n],e[r+3][n]);if(c)return c}for(var a=0;a<7;a++)for(var o=0;o<3;o++){var i=t(e[a][o],e[a][o+1],e[a][o+2],e[a][o+3]);if(i)return i}for(var s=0;s<4;s++)for(var u=0;u<3;u++){var l=t(e[s][u],e[s+1][u+1],e[s+2][u+2],e[s+3][u+3]);if(l)return l}for(var f=3;f<7;f++)for(var j=0;j<3;j++){var v=t(e[f][j],e[f-1][j+1],e[f-2][j+2],e[f-3][j+3]);if(v)return v}for(var b=0;b<7;b++)if(!e[b][0])return 0;return 2}var k=n(11),y=n.n(k),N=n(0);function C(e){var t;return 1===e.value?t="p1":-1===e.value&&(t="p2"),Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"cell",children:Object(N.jsx)("div",{className:t})})})}function S(e){return Object(N.jsx)("div",{className:"board",children:e.grid.map((function(t,n){return Object(N.jsxs)("div",{className:"column-box",children:[Object(N.jsx)("div",{id:"col-".concat(n),className:"col",children:t.map((function(e,t){return Object(N.jsx)(C,{value:e},t)}))},n),Object(N.jsx)("div",{className:"col-border",onClick:function(){return e.onClick(n)},children:t.map((function(e,t){return Object(N.jsx)("div",{className:"cell-border"},t)}))},n+"rand")]},"col"+n)}))})}function A(e){var t="",n=e.state;return 1===n&&(t="you have won! this must be a bug..."),-1===n&&(t="the computer has won."),2===n&&(t="the game is a draw."),0===n&&(t=e.pnext?"your turn. click a column.":"the computer is thinking."),Object(N.jsx)("p",{children:t})}function F(e){var t=e.active,n=e.state,r=e.pNext,c=e.click,a=null;return t&&0===n&&!r&&(a=Object(N.jsx)("div",{className:"load"})),Object(N.jsxs)("div",{className:"menu",children:[Object(N.jsx)("button",{className:"game-button",onClick:c,children:t?"reset":"start game"}),a,Object(N.jsx)(A,{state:n,pnext:r})]})}function M(e){return e.show?Object(N.jsx)("div",{className:"log",children:Object(N.jsx)("p",{children:e.log})}):null}function P(e){var t=Object(a.useState)(T()),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(j.a)(o,2),s=i[0],u=i[1],v=Object(a.useState)(0),b=Object(j.a)(v,2),h=b[0],O=b[1],m=Object(a.useState)(!1),p=Object(j.a)(m,2),x=p[0],g=p[1],k=Object(a.useState)(!1),C=Object(j.a)(k,2),A=C[0],P=C[1],I=Object(a.useState)(">"),B=Object(j.a)(I,2),z=B[0],E=B[1],J=Object(a.useState)(1),L=Object(j.a)(J,2),V=L[0],D=L[1];function H(e,t,n){if(t[e][0]||w(t))return console.log("col full"),null;for(var r=[],a=0;a<t.length;a++)r[a]=t[a].slice();for(var o=6,i=0;i<6;i++)if(r[e][i]){o=i;break}return r[e][o-1]=n?1:-1,O(w(r)),c(r),r}function K(){return(K=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||0!==h||!s){e.next=9;break}if(u(!1),n=H(t,r,!0)){e.next=6;break}return u(!0),e.abrupt("return");case 6:return e.next=8,new Promise((function(e){return setTimeout(e,550)}));case 8:d(n).then((function(e){H(e[0],n,!1),E("> move: "+V+e[1]),D(V+1),u(!0)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(N.jsxs)("div",{className:"connect-four",children:[Object(N.jsxs)(y.a,{children:[Object(N.jsx)("title",{children:"Connect 4"}),Object(N.jsx)("meta",{property:"og:title",content:"Connect Four AI, try to beat it!"}),Object(N.jsx)("meta",{property:"og:image",content:"style\\images\\testicon.png"}),Object(N.jsx)("meta",{name:"google-site-verification",content:"KiaAkpTAz6VAnljcFAauuaSWP4VuwH1ABPcZpTsdnvc"})]}),Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("h1",{children:"CONNECT FOUR AI"}),Object(N.jsx)("h2",{children:"made by jannis becketepe and timon kobusch."})]}),Object(N.jsx)(F,{active:x,state:h,pNext:s,click:function(){x?(c(T()),O(0),g(!1),D(0),E("")):(g(!0),Math.random()<.5||(u(!1),H(3,T(),!1),E("> move: 1 | no moves to analyze"),D(2)),u(!0))}}),Object(N.jsx)(S,{grid:r,onClick:function(e){return function(e){return K.apply(this,arguments)}(e)}}),Object(N.jsxs)("div",{className:"log-switch",children:[Object(N.jsxs)("label",{className:"switch",children:[Object(N.jsx)("input",{type:"checkbox",onClick:function(){return A?console.log("log deactivated"):console.log("log activated"),void P(!A)}}),Object(N.jsx)("span",{className:"slider round"})]}),Object(N.jsx)("p",{children:"show stats"})]}),Object(N.jsx)(M,{show:A,log:z})]})}function T(){for(var e=new Array(7),t=0;t<e.length;t++)e[t]=new Array(6).fill(null);return e}var I=function(){return Object(N.jsx)(P,{})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};s.a.render(Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(I,{})}),document.getElementById("root")),B()}},[[23,1,2]]]);
//# sourceMappingURL=main.6bfe2050.chunk.js.map